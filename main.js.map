{"version":3,"sources":["webpack:///main.js","webpack:///webpack/bootstrap 04ba94d264b62abe5186","webpack:///./main.js","webpack:///./js/app.js","webpack:///external \"angular\"","webpack:///./images/icons.styl","webpack:///./js/config.js","webpack:///./js/menu/view.tmpl.html","webpack:///./js/game/view.tmpl.html","webpack:///./js/menu/controller.js","webpack:///./js/directives/menu-button.js","webpack:///./js/directives/menu-button.tmpl.html","webpack:///./js/game/controller.js","webpack:///./js/directives/board.js","webpack:///./js/directives/board.tmpl.html","webpack:///./images/icons.js","webpack:///./js/directives/puzzle.js","webpack:///./js/directives/puzzle.tmpl.html","webpack:///./js/services/settings.js","webpack:///./js/services/puzzle-metrics.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","angular","icon0","rotate","move0","icon1","move1","icon2","move2","icon3","move3","icon4","move4","icon5","move5","icon6","move6","icon7","move7","icon8","move8","icon9","move9","icon10","move10","icon11","move11","icon12","move12","icon13","move13","icon14","move14","icon15","move15","icon16","move16","icon17","move17","icon18","move18","icon19","move19","icon20","move20","icon21","move21","icon22","move22","icon23","move23","icon24","move24","icon25","move25","icon26","move26","icon27","move27","icon28","move28","icon29","move29","icon30","move30","icon31","move31","icon32","move32","icon33","move33","app","menuUrl","gameUrl","config","$localStorageProvider","setKeyPrefix","$routeProvider","when","templateUrl","controller","otherwise","redirectTo","path","html","window","run","put","$scope","$location","Settings","sizes","getState","setSize","name","setState","newgame","url","directive","restricts","replace","scope","buttonStyle","action","transclude","metrics","size","getActiveSize","boardSize","space","boardUrl","puzzleStyles","iconNames","startId","generatePuzzles","images","i","pair","iconName","puzzle","puzzles","state","icons","slice","puzzleIds","Array","apply","map","v","random","ceil","Math","floor","splice","length","solved","clicks","classes","open","push","extend","index","sort","a","b","restrict","link","metricsStyle","animationName","gotomenu","countClicks","opened","toggle","$apply","_updateBoard","forEach","every","puzzleUrl","$window","element","attrs","$watch","newVal","oldVal","requestAnimationFrame","removeClass","on","e","addClass","service","$localStorage","defaults","active","this","s","activeName","filter","newstate","constant"],"mappings":"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","file":"main.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * @author aelyseev\n\t * @date 15/12/15\n\t */\n\t\n\tvar app = __webpack_require__(1);\n\t\n\t// styles\n\t__webpack_require__(3);\n\t__webpack_require__(4);\n\t\n\t// config\n\t__webpack_require__(5);\n\t\n\t// controllers\n\t__webpack_require__(8);\n\t__webpack_require__(11);\n\t\n\t//settings\n\t__webpack_require__(17);\n\t__webpack_require__(18);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * @author aelyseev\n\t * @date 15/12/15\n\t */\n\t\n\tmodule.exports = __webpack_require__(2).module('app', [\n\t\t'ngRoute', 'ngStorage'\n\t]);\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = angular;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"icon0\":\"_3kiQWo\",\"rotate\":\"_2GVRvD\",\"move0\":\"_1Pst8o\",\"icon1\":\"vsFxrw\",\"move1\":\"_2MXAZR\",\"icon2\":\"_3eTMQs\",\"move2\":\"_2prDJW\",\"icon3\":\"_2L1_Qk\",\"move3\":\"_2_noVz\",\"icon4\":\"_2hVB2a\",\"move4\":\"_1sRuJP\",\"icon5\":\"_1mky_v\",\"move5\":\"_30hXA6\",\"icon6\":\"_14ieiu\",\"move6\":\"_1STrSp\",\"icon7\":\"_1HHKJ5\",\"move7\":\"XGMVlg\",\"icon8\":\"_3rD_iQ\",\"move8\":\"_1qqGGe\",\"icon9\":\"_26BKsP\",\"move9\":\"_3dscAZ\",\"icon10\":\"_2wW024\",\"move10\":\"_1dUfnA\",\"icon11\":\"_1dWX-V\",\"move11\":\"_2yZMhs\",\"icon12\":\"_2J0uSF\",\"move12\":\"_1hH4iM\",\"icon13\":\"_2SsO7X\",\"move13\":\"y1Kvnf\",\"icon14\":\"_3T9Sg3\",\"move14\":\"_2Jcnwf\",\"icon15\":\"_1j8JBZ\",\"move15\":\"lQB5Hj\",\"icon16\":\"_2wrbUf\",\"move16\":\"o8FR4V\",\"icon17\":\"_2IV6Hk\",\"move17\":\"wyLVX_\",\"icon18\":\"_1obnRO\",\"move18\":\"wE9rKU\",\"icon19\":\"CgdZO9\",\"move19\":\"qfomPR\",\"icon20\":\"cbLZk2\",\"move20\":\"_1OTggF\",\"icon21\":\"_3WqNhg\",\"move21\":\"KByxMK\",\"icon22\":\"_2rdhr8\",\"move22\":\"_3OEcSJ\",\"icon23\":\"_3aSKcA\",\"move23\":\"_3yOAtN\",\"icon24\":\"_1JAsPT\",\"move24\":\"_3_6n0M\",\"icon25\":\"_1FEM-x\",\"move25\":\"_3-cRGy\",\"icon26\":\"_1lLPpp\",\"move26\":\"_1A9Z40\",\"icon27\":\"_229veP\",\"move27\":\"_13FTYP\",\"icon28\":\"_3cRZuu\",\"move28\":\"_1ThFpy\",\"icon29\":\"RviMrP\",\"move29\":\"_1zZUhZ\",\"icon30\":\"G0BUUO\",\"move30\":\"_2ckz8e\",\"icon31\":\"A1vehD\",\"move31\":\"_1DLZ_D\",\"icon32\":\"_3ZH1NQ\",\"move32\":\"_1YBmU9\",\"icon33\":\"_2zhJVW\",\"move33\":\"_1_pnJP\"};\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * @author aelyseev\n\t * @date 17/12/15\n\t */\n\t\n\tvar app = __webpack_require__(1);\n\tvar menuUrl = __webpack_require__(6);\n\tvar gameUrl = __webpack_require__(7);\n\t\n\tapp.config(['$localStorageProvider', function ($localStorageProvider) {\n\t\t\t'use strict';\n\t\n\t\t\t$localStorageProvider.setKeyPrefix('game_');\n\t\t}])\n\t\t.config(['$routeProvider', function ($routeProvider) {\n\t\t\t'use strict';\n\t\n\t\t\t$routeProvider\n\t\t\t\t.when('/', {\n\t\t\t\t\ttemplateUrl: menuUrl,\n\t\t\t\t\tcontroller: 'MenuController'\n\t\t\t\t})\n\t\t\t\t.when('/game', {\n\t\t\t\t\ttemplateUrl: gameUrl,\n\t\t\t\t\tcontroller: 'GameController'\n\t\t\t\t})\n\t\t\t\t.otherwise({\n\t\t\t\t\tredirectTo: '/'\n\t\t\t\t})\n\t\t\t;\n\t\t}]);\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tvar path = '/app/js/menu/view.tmpl.html';\n\tvar html = \"<div class=main><div menu-button button-style=\\\"button-menu menu-width\\\" action=newgame ng-click=action()>New Game</div><div class=\\\"block menu-width\\\"><div class=block-title>Board sizes</div><div class=block-options><span ng-repeat=\\\"size in sizes track by $index\\\" ng-class=\\\"{'block-options-item-selected': size.active}\\\" ng-click=setSize(size.name) class=\\\"block-options-item block-options-item-active\\\">{{::size.name}}</span></div></div></div>\";\n\twindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\n\tmodule.exports = path;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tvar path = '/app/js/game/view.tmpl.html';\n\tvar html = \"<div board></div>\";\n\twindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\n\tmodule.exports = path;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * @author aelyseev\n\t * @date 17/12/15\n\t */\n\t\n\tvar app = __webpack_require__(1);\n\t\n\t// new button\n\t__webpack_require__(9);\n\t\n\tapp.controller('MenuController', ['$scope', '$location', 'settings', function ($scope, $location, Settings) {\n\t\t'use strict';\n\t\t$scope.sizes = Settings.getState();\n\t\n\t\t$scope.setSize = function (name) {\n\t\t\t$scope.sizes = Settings.setState(name);\n\t\t};\n\t\n\t\t$scope.newgame = function () {\n\t\t\t$location.url('/game');\n\t\t};\n\t}]);\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * @author aelyseev\n\t * @date 17/12/15\n\t */\n\t\n\tvar app = __webpack_require__(1);\n\tvar url = __webpack_require__(10);\n\t\n\tapp.directive('menuButton', ['$location', function () {\n\t\t'use strict';\n\t\n\t\treturn {\n\t\t\trestricts: 'A',\n\t\t\treplace: true,\n\t\t\tscope: {\n\t\t\t\tbuttonStyle: '@',\n\t\t\t\taction: '='\n\t\t\t},\n\t\t\ttransclude: true,\n\t\t\ttemplateUrl: url\n\t\t};\n\t}]);\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tvar path = '/app/js/directives/menu-button.tmpl.html';\n\tvar html = \"<div ng-class=buttonStyle ng-click=action() ng-transclude class=\\\"button button-centered\\\"></div>\";\n\twindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\n\tmodule.exports = path;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * @author aelyseev\n\t * @date 17/12/15\n\t */\n\t\n\tvar app = __webpack_require__(1);\n\t\n\t// directives\n\t__webpack_require__(9);\n\t__webpack_require__(12);\n\t\n\tapp.controller('GameController', ['$scope', 'settings', 'puzzleMetrics', function ($scope, Settings, metrics) {\n\t\t'use strict';\n\t\tvar size = Settings.getActiveSize();\n\t\n\t\t$scope.boardSize = size * metrics.size + (2 * metrics.space * size);\n\t}]);\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * @author aelyseev\n\t * @date 17/12/15\n\t */\n\t\n\tvar app = __webpack_require__(1);\n\tvar boardUrl = __webpack_require__(13);\n\tvar puzzleStyles = __webpack_require__(4);\n\tvar iconNames = __webpack_require__(14);\n\tvar startId = 0;\n\tvar p = __webpack_require__(15);\n\t\n\tvar generatePuzzles = function (images, boardSize) {\n\t\t'use strict';\n\t\n\t\tvar i;\n\t\tvar puzzles = [];\n\t\tvar pair;\n\t\tvar iconName;\n\t\tvar puzzle;\n\t\n\t\tvar state = false;\n\t\tvar icons = images.slice(0);\n\t\n\t\tvar puzzleIds = Array.apply(null, new Array(boardSize * boardSize)).map(function (v, id) {\n\t\t\treturn id;\n\t\t});\n\t\n\t\tvar random = function (ceil) {\n\t\t\treturn Math.floor(Math.random() * ceil);\n\t\t};\n\t\n\t\tfor (i = 0; i < (boardSize * boardSize / 2); i++) {\n\t\t\ticonName = icons.splice(random(icons.length), 1)[0];\n\t\t\tpair = [\n\t\t\t\tpuzzleIds.splice(random(puzzleIds.length), 1)[0],\n\t\t\t\tpuzzleIds.splice(random(puzzleIds.length), 1)[0]\n\t\t\t];\n\t\n\t\t\tpuzzle = {\n\t\t\t\tsolved: false,\n\t\t\t\tclicks: 0,\n\t\t\t\tclasses: puzzleStyles[iconName],\n\t\t\t\topen: state\n\t\t\t};\n\t\n\t\t\tpuzzles.push(\n\t\t\t\tangular.extend({index: pair[0], pair: pair[1]}, puzzle, {id: startId++}),\n\t\t\t\tangular.extend({index: pair[1], pair: pair[0]}, puzzle, {id: startId++})\n\t\t\t);\n\t\t}\n\t\treturn puzzles.slice(0).sort(function (a, b) {\n\t\t\treturn a.index - b.index;\n\t\t});\n\t};\n\t\n\tapp.directive('board', ['settings', 'puzzleMetrics', '$location', function (Settings, metrics, $location) {\n\t\t'use strict';\n\t\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\treplace: true,\n\t\n\t\t\ttemplateUrl: boardUrl,\n\t\n\t\t\tlink: function (scope) {\n\t\t\t\tscope.metricsStyle = 'width:' + metrics.size + 'px; height: ' +\n\t\t\t\t\tmetrics.size + 'px; margin: ' + metrics.space + 'px';\n\t\n\t\t\t\tscope.animationName = puzzleStyles.rotate;\n\t\n\t\t\t\tscope.gotomenu = function () {\n\t\t\t\t\t$location.url('/');\n\t\t\t\t};\n\t\n\t\t\t\tscope.countClicks = function () {\n\t\t\t\t\tscope.clicks++;\n\t\t\t\t};\n\t\n\t\t\t\tscope.newgame = function () {\n\t\t\t\t\tscope.puzzles = generatePuzzles(iconNames, Settings.getActiveSize());\n\t\t\t\t\tscope.solved = false;\n\t\t\t\t\tscope.opened = [];\n\t\t\t\t\tscope.clicks = 0;\n\t\t\t\t};\n\t\n\t\t\t\tscope.toggle = function (index) {\n\t\t\t\t\tscope.$apply(function () {\n\t\t\t\t\t\tvar state = !scope.puzzles[index].open;\n\t\t\t\t\t\tscope.puzzles[index].open = state;\n\t\t\t\t\t\tif (state) {\n\t\t\t\t\t\t\tscope.opened.push(index);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tscope._updateBoard();\n\t\t\t\t\t});\n\t\t\t\t};\n\t\n\t\t\t\tscope._updateBoard = function () {\n\t\t\t\t\tvar puzzles = scope.puzzles;\n\t\t\t\t\tvar pair;\n\t\n\t\t\t\t\tif (scope.opened.length < 2) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tpair = scope.opened.splice(0, 2);\n\t\n\t\t\t\t\tif (puzzles[pair[0]].pair === puzzles[pair[1]].index) {\n\t\t\t\t\t\tscope.puzzles[pair[0]].solved = scope.puzzles[pair[1]].solved = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpair.forEach(function (index) {\n\t\t\t\t\t\t\tscope.puzzles[index].clicks++;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tscope.solved = scope.puzzles.every(function (puzzle) {\n\t\t\t\t\t\treturn puzzle.solved;\n\t\t\t\t\t});\n\t\t\t\t};\n\t\n\t\t\t\tscope.newgame();\n\t\t\t}\n\t\t};\n\t}]);\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tvar path = '/app/js/directives/board.tmpl.html';\n\tvar html = \"<div><div class=board-game-menu ng-style=\\\"{width: boardSize + 'px'}\\\"><div menu-button button-style=button-game action=gotomenu>Main menu</div><div ng-if=!solved class=board-game-menu-info>Clicks: {{clicks}}</div><div ng-if=solved menu-button button-style=button-game action=newgame>You won! Start a new game!</div></div><div class=board ng-style=\\\"{width: boardSize + 'px'}\\\"><div puzzle ng-repeat=\\\"puzzle in puzzles track by puzzle.id\\\"></div></div></div>\";\n\twindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\n\tmodule.exports = path;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t/* eslint-disable  */\n\tmodule.exports = [\n\t\"icon0\", \n\t\"icon1\", \n\t\"icon2\", \n\t\"icon3\", \n\t\"icon4\", \n\t\"icon5\", \n\t\"icon6\", \n\t\"icon7\", \n\t\"icon8\", \n\t\"icon9\", \n\t\"icon10\", \n\t\"icon11\", \n\t\"icon12\", \n\t\"icon13\", \n\t\"icon14\", \n\t\"icon15\", \n\t\"icon16\", \n\t\"icon17\", \n\t\"icon18\", \n\t\"icon19\", \n\t\"icon20\", \n\t\"icon21\", \n\t\"icon22\", \n\t\"icon23\", \n\t\"icon24\", \n\t\"icon25\", \n\t\"icon26\", \n\t\"icon27\", \n\t\"icon28\", \n\t\"icon29\", \n\t\"icon30\", \n\t\"icon31\", \n\t\"icon32\", \n\t\"icon33\"\n\t];\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * @author aelyseev\n\t * @date 17/12/15\n\t */\n\t\n\tvar app = __webpack_require__(1);\n\tvar puzzleUrl = __webpack_require__(16);\n\t\n\tapp.directive('puzzle', ['$window', function ($window) {\n\t\t'use strict';\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\treplace: true,\n\t\t\ttemplateUrl: puzzleUrl,\n\t\t\tlink: function (scope, element, attrs) {\n\t\t\t\tvar puzzle = scope.puzzles[attrs.index];\n\t\n\t\t\t\tscope.$watch('puzzles[$index].clicks', function (newVal, oldVal) {\n\t\t\t\t\tif (oldVal === newVal) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t$window.requestAnimationFrame(function () {\n\t\t\t\t\t\telement.removeClass('puzzle-animated-paused');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\n\t\t\t\telement.on('animationiteration', function (e) {\n\t\t\t\t\tif (e.animationName !== scope.animationName) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t$window.requestAnimationFrame(function () {\n\t\t\t\t\t\telement.addClass('puzzle-animated-paused');\n\t\t\t\t\t\tscope.toggle(attrs.index);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\n\t\t\t\telement.on('click', function () {\n\t\t\t\t\tif (puzzle.open || puzzle.solved) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tscope.countClicks();\n\t\n\t\t\t\t\t$window.requestAnimationFrame(function () {\n\t\t\t\t\t\telement.removeClass('puzzle-animated-paused');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}]);\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tvar path = '/app/js/directives/puzzle.tmpl.html';\n\tvar html = \"<div class=\\\"puzzle puzzle-animated puzzle-animated-paused\\\" data-index={{::puzzle.index}} ng-class=puzzle.classes style={{::metricsStyle}}></div>\";\n\twindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\n\tmodule.exports = path;\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * @author aelyseev\n\t * @date 21/12/15\n\t */\n\t\n\tvar app = __webpack_require__(1);\n\t\n\tapp.service('settings', ['$localStorage', function ($localStorage) {\n\t\t'use strict';\n\t\tvar defaults = [\n\t\t\t{name: '4×4', active: false},\n\t\t\t{name: '6×6', active: true},\n\t\t\t{name: '8×8', active: false}\n\t\t];\n\t\n\t\tthis.getState = function () {\n\t\t\tvar state = $localStorage.state;\n\t\n\t\t\tif (!state) {\n\t\t\t\t$localStorage.state = state = defaults;\n\t\t\t}\n\t\n\t\t\treturn defaults.map(function (s, i) {\n\t\t\t\treturn angular.extend({}, s, state[i]);\n\t\t\t});\n\t\t};\n\t\n\t\tthis.getActiveSize = function () {\n\t\t\tvar activeName = this.getState().filter(function (state) {\n\t\t\t\treturn state.active;\n\t\t\t})[0].name;\n\t\t\treturn Number(activeName[0]);\n\t\t};\n\t\n\t\tthis.setState = function (name) {\n\t\t\tvar newstate = this.getState().map(function (state) {\n\t\t\t\tstate.active = state.name === name;\n\t\t\t\treturn state;\n\t\t\t});\n\t\t\t$localStorage.state = newstate;\n\t\t\treturn newstate;\n\t\t};\n\t}]);\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * @author aelyseev\n\t * @date 21/12/15\n\t */\n\tvar app = __webpack_require__(1);\n\tapp.constant('puzzleMetrics', {\n\t\tsize: 52,\n\t\tspace: 6\n\t});\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** main.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 04ba94d264b62abe5186\n **/","/**\n * @author aelyseev\n * @date 15/12/15\n */\n\nvar app = require('./js/app');\n\n// styles\nrequire('./style/index.styl');\nrequire('./images/icons.styl');\n\n// config\nrequire('./js/config');\n\n// controllers\nrequire('./js/menu/controller');\nrequire('./js/game/controller');\n\n//settings\nrequire('./js/services/settings');\nrequire('./js/services/puzzle-metrics');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./main.js\n ** module id = 0\n ** module chunks = 0\n **/","/**\n * @author aelyseev\n * @date 15/12/15\n */\n\nmodule.exports = require('angular').module('app', [\n\t'ngRoute', 'ngStorage'\n]);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/app.js\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = angular;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"angular\"\n ** module id = 2\n ** module chunks = 0\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"icon0\":\"_3kiQWo\",\"rotate\":\"_2GVRvD\",\"move0\":\"_1Pst8o\",\"icon1\":\"vsFxrw\",\"move1\":\"_2MXAZR\",\"icon2\":\"_3eTMQs\",\"move2\":\"_2prDJW\",\"icon3\":\"_2L1_Qk\",\"move3\":\"_2_noVz\",\"icon4\":\"_2hVB2a\",\"move4\":\"_1sRuJP\",\"icon5\":\"_1mky_v\",\"move5\":\"_30hXA6\",\"icon6\":\"_14ieiu\",\"move6\":\"_1STrSp\",\"icon7\":\"_1HHKJ5\",\"move7\":\"XGMVlg\",\"icon8\":\"_3rD_iQ\",\"move8\":\"_1qqGGe\",\"icon9\":\"_26BKsP\",\"move9\":\"_3dscAZ\",\"icon10\":\"_2wW024\",\"move10\":\"_1dUfnA\",\"icon11\":\"_1dWX-V\",\"move11\":\"_2yZMhs\",\"icon12\":\"_2J0uSF\",\"move12\":\"_1hH4iM\",\"icon13\":\"_2SsO7X\",\"move13\":\"y1Kvnf\",\"icon14\":\"_3T9Sg3\",\"move14\":\"_2Jcnwf\",\"icon15\":\"_1j8JBZ\",\"move15\":\"lQB5Hj\",\"icon16\":\"_2wrbUf\",\"move16\":\"o8FR4V\",\"icon17\":\"_2IV6Hk\",\"move17\":\"wyLVX_\",\"icon18\":\"_1obnRO\",\"move18\":\"wE9rKU\",\"icon19\":\"CgdZO9\",\"move19\":\"qfomPR\",\"icon20\":\"cbLZk2\",\"move20\":\"_1OTggF\",\"icon21\":\"_3WqNhg\",\"move21\":\"KByxMK\",\"icon22\":\"_2rdhr8\",\"move22\":\"_3OEcSJ\",\"icon23\":\"_3aSKcA\",\"move23\":\"_3yOAtN\",\"icon24\":\"_1JAsPT\",\"move24\":\"_3_6n0M\",\"icon25\":\"_1FEM-x\",\"move25\":\"_3-cRGy\",\"icon26\":\"_1lLPpp\",\"move26\":\"_1A9Z40\",\"icon27\":\"_229veP\",\"move27\":\"_13FTYP\",\"icon28\":\"_3cRZuu\",\"move28\":\"_1ThFpy\",\"icon29\":\"RviMrP\",\"move29\":\"_1zZUhZ\",\"icon30\":\"G0BUUO\",\"move30\":\"_2ckz8e\",\"icon31\":\"A1vehD\",\"move31\":\"_1DLZ_D\",\"icon32\":\"_3ZH1NQ\",\"move32\":\"_1YBmU9\",\"icon33\":\"_2zhJVW\",\"move33\":\"_1_pnJP\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./images/icons.styl\n ** module id = 4\n ** module chunks = 0\n **/","/**\n * @author aelyseev\n * @date 17/12/15\n */\n\nvar app = require('./app');\nvar menuUrl = require('./menu/view.tmpl.html');\nvar gameUrl = require('./game/view.tmpl.html');\n\napp.config(['$localStorageProvider', function ($localStorageProvider) {\n\t\t'use strict';\n\n\t\t$localStorageProvider.setKeyPrefix('game_');\n\t}])\n\t.config(['$routeProvider', function ($routeProvider) {\n\t\t'use strict';\n\n\t\t$routeProvider\n\t\t\t.when('/', {\n\t\t\t\ttemplateUrl: menuUrl,\n\t\t\t\tcontroller: 'MenuController'\n\t\t\t})\n\t\t\t.when('/game', {\n\t\t\t\ttemplateUrl: gameUrl,\n\t\t\t\tcontroller: 'GameController'\n\t\t\t})\n\t\t\t.otherwise({\n\t\t\t\tredirectTo: '/'\n\t\t\t})\n\t\t;\n\t}]);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/config.js\n ** module id = 5\n ** module chunks = 0\n **/","var path = '/app/js/menu/view.tmpl.html';\nvar html = \"<div class=main><div menu-button button-style=\\\"button-menu menu-width\\\" action=newgame ng-click=action()>New Game</div><div class=\\\"block menu-width\\\"><div class=block-title>Board sizes</div><div class=block-options><span ng-repeat=\\\"size in sizes track by $index\\\" ng-class=\\\"{'block-options-item-selected': size.active}\\\" ng-click=setSize(size.name) class=\\\"block-options-item block-options-item-active\\\">{{::size.name}}</span></div></div></div>\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/menu/view.tmpl.html\n ** module id = 6\n ** module chunks = 0\n **/","var path = '/app/js/game/view.tmpl.html';\nvar html = \"<div board></div>\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/game/view.tmpl.html\n ** module id = 7\n ** module chunks = 0\n **/","/**\n * @author aelyseev\n * @date 17/12/15\n */\n\nvar app = require('../app');\n\n// new button\nrequire('../directives/menu-button');\n\napp.controller('MenuController', ['$scope', '$location', 'settings', function ($scope, $location, Settings) {\n\t'use strict';\n\t$scope.sizes = Settings.getState();\n\n\t$scope.setSize = function (name) {\n\t\t$scope.sizes = Settings.setState(name);\n\t};\n\n\t$scope.newgame = function () {\n\t\t$location.url('/game');\n\t};\n}]);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/menu/controller.js\n ** module id = 8\n ** module chunks = 0\n **/","/**\n * @author aelyseev\n * @date 17/12/15\n */\n\nvar app = require('../app');\nvar url = require('./menu-button.tmpl.html');\n\napp.directive('menuButton', ['$location', function () {\n\t'use strict';\n\n\treturn {\n\t\trestricts: 'A',\n\t\treplace: true,\n\t\tscope: {\n\t\t\tbuttonStyle: '@',\n\t\t\taction: '='\n\t\t},\n\t\ttransclude: true,\n\t\ttemplateUrl: url\n\t};\n}]);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/directives/menu-button.js\n ** module id = 9\n ** module chunks = 0\n **/","var path = '/app/js/directives/menu-button.tmpl.html';\nvar html = \"<div ng-class=buttonStyle ng-click=action() ng-transclude class=\\\"button button-centered\\\"></div>\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/directives/menu-button.tmpl.html\n ** module id = 10\n ** module chunks = 0\n **/","/**\n * @author aelyseev\n * @date 17/12/15\n */\n\nvar app = require('../app');\n\n// directives\nrequire('../directives/menu-button');\nrequire('../directives/board');\n\napp.controller('GameController', ['$scope', 'settings', 'puzzleMetrics', function ($scope, Settings, metrics) {\n\t'use strict';\n\tvar size = Settings.getActiveSize();\n\n\t$scope.boardSize = size * metrics.size + (2 * metrics.space * size);\n}]);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/game/controller.js\n ** module id = 11\n ** module chunks = 0\n **/","/**\n * @author aelyseev\n * @date 17/12/15\n */\n\nvar app = require('../app');\nvar boardUrl = require('./board.tmpl.html');\nvar puzzleStyles = require('../../images/icons.styl');\nvar iconNames = require('../../images/icons.js');\nvar startId = 0;\nvar p = require('./puzzle');\n\nvar generatePuzzles = function (images, boardSize) {\n\t'use strict';\n\n\tvar i;\n\tvar puzzles = [];\n\tvar pair;\n\tvar iconName;\n\tvar puzzle;\n\n\tvar state = false;\n\tvar icons = images.slice(0);\n\n\tvar puzzleIds = Array.apply(null, new Array(boardSize * boardSize)).map(function (v, id) {\n\t\treturn id;\n\t});\n\n\tvar random = function (ceil) {\n\t\treturn Math.floor(Math.random() * ceil);\n\t};\n\n\tfor (i = 0; i < (boardSize * boardSize / 2); i++) {\n\t\ticonName = icons.splice(random(icons.length), 1)[0];\n\t\tpair = [\n\t\t\tpuzzleIds.splice(random(puzzleIds.length), 1)[0],\n\t\t\tpuzzleIds.splice(random(puzzleIds.length), 1)[0]\n\t\t];\n\n\t\tpuzzle = {\n\t\t\tsolved: false,\n\t\t\tclicks: 0,\n\t\t\tclasses: puzzleStyles[iconName],\n\t\t\topen: state\n\t\t};\n\n\t\tpuzzles.push(\n\t\t\tangular.extend({index: pair[0], pair: pair[1]}, puzzle, {id: startId++}),\n\t\t\tangular.extend({index: pair[1], pair: pair[0]}, puzzle, {id: startId++})\n\t\t);\n\t}\n\treturn puzzles.slice(0).sort(function (a, b) {\n\t\treturn a.index - b.index;\n\t});\n};\n\napp.directive('board', ['settings', 'puzzleMetrics', '$location', function (Settings, metrics, $location) {\n\t'use strict';\n\n\treturn {\n\t\trestrict: 'A',\n\t\treplace: true,\n\n\t\ttemplateUrl: boardUrl,\n\n\t\tlink: function (scope) {\n\t\t\tscope.metricsStyle = 'width:' + metrics.size + 'px; height: ' +\n\t\t\t\tmetrics.size + 'px; margin: ' + metrics.space + 'px';\n\n\t\t\tscope.animationName = puzzleStyles.rotate;\n\n\t\t\tscope.gotomenu = function () {\n\t\t\t\t$location.url('/');\n\t\t\t};\n\n\t\t\tscope.countClicks = function () {\n\t\t\t\tscope.clicks++;\n\t\t\t};\n\n\t\t\tscope.newgame = function () {\n\t\t\t\tscope.puzzles = generatePuzzles(iconNames, Settings.getActiveSize());\n\t\t\t\tscope.solved = false;\n\t\t\t\tscope.opened = [];\n\t\t\t\tscope.clicks = 0;\n\t\t\t};\n\n\t\t\tscope.toggle = function (index) {\n\t\t\t\tscope.$apply(function () {\n\t\t\t\t\tvar state = !scope.puzzles[index].open;\n\t\t\t\t\tscope.puzzles[index].open = state;\n\t\t\t\t\tif (state) {\n\t\t\t\t\t\tscope.opened.push(index);\n\t\t\t\t\t}\n\t\t\t\t\tscope._updateBoard();\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tscope._updateBoard = function () {\n\t\t\t\tvar puzzles = scope.puzzles;\n\t\t\t\tvar pair;\n\n\t\t\t\tif (scope.opened.length < 2) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tpair = scope.opened.splice(0, 2);\n\n\t\t\t\tif (puzzles[pair[0]].pair === puzzles[pair[1]].index) {\n\t\t\t\t\tscope.puzzles[pair[0]].solved = scope.puzzles[pair[1]].solved = true;\n\t\t\t\t} else {\n\t\t\t\t\tpair.forEach(function (index) {\n\t\t\t\t\t\tscope.puzzles[index].clicks++;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tscope.solved = scope.puzzles.every(function (puzzle) {\n\t\t\t\t\treturn puzzle.solved;\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tscope.newgame();\n\t\t}\n\t};\n}]);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/directives/board.js\n ** module id = 12\n ** module chunks = 0\n **/","var path = '/app/js/directives/board.tmpl.html';\nvar html = \"<div><div class=board-game-menu ng-style=\\\"{width: boardSize + 'px'}\\\"><div menu-button button-style=button-game action=gotomenu>Main menu</div><div ng-if=!solved class=board-game-menu-info>Clicks: {{clicks}}</div><div ng-if=solved menu-button button-style=button-game action=newgame>You won! Start a new game!</div></div><div class=board ng-style=\\\"{width: boardSize + 'px'}\\\"><div puzzle ng-repeat=\\\"puzzle in puzzles track by puzzle.id\\\"></div></div></div>\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/directives/board.tmpl.html\n ** module id = 13\n ** module chunks = 0\n **/","/* eslint-disable  */\nmodule.exports = [\n\"icon0\", \n\"icon1\", \n\"icon2\", \n\"icon3\", \n\"icon4\", \n\"icon5\", \n\"icon6\", \n\"icon7\", \n\"icon8\", \n\"icon9\", \n\"icon10\", \n\"icon11\", \n\"icon12\", \n\"icon13\", \n\"icon14\", \n\"icon15\", \n\"icon16\", \n\"icon17\", \n\"icon18\", \n\"icon19\", \n\"icon20\", \n\"icon21\", \n\"icon22\", \n\"icon23\", \n\"icon24\", \n\"icon25\", \n\"icon26\", \n\"icon27\", \n\"icon28\", \n\"icon29\", \n\"icon30\", \n\"icon31\", \n\"icon32\", \n\"icon33\"\n];\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./images/icons.js\n ** module id = 14\n ** module chunks = 0\n **/","/**\n * @author aelyseev\n * @date 17/12/15\n */\n\nvar app = require('../app');\nvar puzzleUrl = require('./puzzle.tmpl.html');\n\napp.directive('puzzle', ['$window', function ($window) {\n\t'use strict';\n\treturn {\n\t\trestrict: 'A',\n\t\treplace: true,\n\t\ttemplateUrl: puzzleUrl,\n\t\tlink: function (scope, element, attrs) {\n\t\t\tvar puzzle = scope.puzzles[attrs.index];\n\n\t\t\tscope.$watch('puzzles[$index].clicks', function (newVal, oldVal) {\n\t\t\t\tif (oldVal === newVal) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$window.requestAnimationFrame(function () {\n\t\t\t\t\telement.removeClass('puzzle-animated-paused');\n\t\t\t\t});\n\t\t\t});\n\n\t\t\telement.on('animationiteration', function (e) {\n\t\t\t\tif (e.animationName !== scope.animationName) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$window.requestAnimationFrame(function () {\n\t\t\t\t\telement.addClass('puzzle-animated-paused');\n\t\t\t\t\tscope.toggle(attrs.index);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\telement.on('click', function () {\n\t\t\t\tif (puzzle.open || puzzle.solved) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tscope.countClicks();\n\n\t\t\t\t$window.requestAnimationFrame(function () {\n\t\t\t\t\telement.removeClass('puzzle-animated-paused');\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n}]);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/directives/puzzle.js\n ** module id = 15\n ** module chunks = 0\n **/","var path = '/app/js/directives/puzzle.tmpl.html';\nvar html = \"<div class=\\\"puzzle puzzle-animated puzzle-animated-paused\\\" data-index={{::puzzle.index}} ng-class=puzzle.classes style={{::metricsStyle}}></div>\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/directives/puzzle.tmpl.html\n ** module id = 16\n ** module chunks = 0\n **/","/**\n * @author aelyseev\n * @date 21/12/15\n */\n\nvar app = require('../app');\n\napp.service('settings', ['$localStorage', function ($localStorage) {\n\t'use strict';\n\tvar defaults = [\n\t\t{name: '4×4', active: false},\n\t\t{name: '6×6', active: true},\n\t\t{name: '8×8', active: false}\n\t];\n\n\tthis.getState = function () {\n\t\tvar state = $localStorage.state;\n\n\t\tif (!state) {\n\t\t\t$localStorage.state = state = defaults;\n\t\t}\n\n\t\treturn defaults.map(function (s, i) {\n\t\t\treturn angular.extend({}, s, state[i]);\n\t\t});\n\t};\n\n\tthis.getActiveSize = function () {\n\t\tvar activeName = this.getState().filter(function (state) {\n\t\t\treturn state.active;\n\t\t})[0].name;\n\t\treturn Number(activeName[0]);\n\t};\n\n\tthis.setState = function (name) {\n\t\tvar newstate = this.getState().map(function (state) {\n\t\t\tstate.active = state.name === name;\n\t\t\treturn state;\n\t\t});\n\t\t$localStorage.state = newstate;\n\t\treturn newstate;\n\t};\n}]);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/services/settings.js\n ** module id = 17\n ** module chunks = 0\n **/","/**\n * @author aelyseev\n * @date 21/12/15\n */\nvar app = require('../app');\napp.constant('puzzleMetrics', {\n\tsize: 52,\n\tspace: 6\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/services/puzzle-metrics.js\n ** module id = 18\n ** module chunks = 0\n **/"],"sourceRoot":""}